<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Beauty Bliss</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f8f9fa;
    }
    header {
      background-color: #ff9900;
      color: white;
      padding: 15px;
      text-align: center;
    }
    .container {
      padding: 20px;
    }
    #products {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: space-around;
    }
    .product {
      flex: 1 1 30%;
      max-width: 300px;
      background: white;
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    .product h3 {
      margin: 0 0 10px;
    }
    .product span {
      font-size: 1.2em;
      margin-bottom: 10px;
    }
    .product button {
      background-color: #ff9900;
      color: white;
      padding: 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      width: 100%;
    }
    .product button:hover {
      background-color: #e68a00;
    }
    .cart-section {
      margin-top: 30px;
    }
    .cart {
      background: rgb(194, 126, 126);
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    .cart h3 {
      margin-top: 0;
    }
    .cart-items {
      margin-bottom: 20px;
    }
    label {
      font-weight: bold;
      margin-bottom: 5px;
      display: block;
    }
    input, select {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ced4da;
      border-radius: 5px;
    }
    button.checkout {
      width: 100%;
      background-color: #007bff;
      color: white;
      padding: 10px;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
    }
    button.checkout:hover {
      background-color: #0056b3;
    }
    button.remove {
      background-color: #dc3545;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      padding: 5px 10px;
      margin-left: 10px;
    }
    button.remove:hover {
      background-color: #c82333;
    }
    .message {
      text-align: center;
      margin-top: 20px;
      color: #6c757d;
    }

    .offer-price {
      color: green;
      font-weight: bold;
    }

    #mpesa-payment {
      display: none;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <header>
    <h1>Beauty Bliss</h1>
    <p>Shop your favorite hair products effortlessly!</p>
  </header>

  <div class="container">
    <!-- Products Section -->
    <div id="products">
      <div class="product">
        <img style="width: 200px;height:auto;" src="IMG-20250125-WA0008.jpg" alt="image" />
        <h3>Raw Batana Oil</h3>
        <span>KES 1800</span>
        <button onclick="addToCart('Batana', 1800)">Add to Cart</button>
      </div>
      <div class="product">
        <img style="width: 100px;height:auto;" src="IMG-20250125-WA0011.jpg" alt="image" />
        <h3>Rosemary Oil</h3>
        <span style="color: #6c757d; text-decoration-line:line-through;" class="original-price">was kes1000</span>
        <span class="offer-price"> now KES 600</span>
        <button onclick="addToCart('Rosemary', 600)">Add to Cart</button>
      </div>
      <div class="product">
        <img style="width: 200px;height:auto;" src="IMG-20250125-WA0012.jpg" alt="image" />
        <h3>peppermint</h3>
        <span style="color: #6c757d; text-decoration-line:line-through;" class="original-price">was KES 1000</span>
        <span class="offer-price"> now KES 600</span>
        <button onclick="addToCart('peppermint', 600)">Add to Cart</button>
      </div>
      <div class="product">
        <img style="width: 200px;height:auto;" src="IMG-20250125-WA0010.jpg" alt="image" />
        <h4>Eucalyptus</h4>
        <span style="color: #6c757d; text-decoration-line:line-through;" class="original-price">was KES 1000</span>
        <span class="offer-price"> now KES 600</span>
        <button onclick="addToCart('Eucalyptus', 600)">Add to Cart</button>
      </div>
      <div class="product">
        <img style="width: 200px;height:auto;" src="IMG-20250127-WA0008.jpg" alt="image" />
        <h3>Jupiter (Magic Series)</h3>
        <div class="coming-soon">Coming Soon</div>
        <span>KES 1000</span>
        <button disabled>coming-soon</button>
      </div>
      <div class="product">
        <img style="width: 100px;height:auto;" src="IMG-20250127-WA0006.jpg" alt="image" />
        <div class="out-of-stock">Out of Stock</div>
        <h5>Batana</h5>
        <span>KES 600</span>
        <button disabled>Out of Stock</button>
      </div>
      <div class="product">
        <img style="width: 200px;height:auto;" src="IMG-20250127-WA0007.jpg" alt="image" />
        <h6>Bird of Paradise (Pink Mango Flavor)</h6>
        <span>KES 1000</span>
        <p class="coming-soon">Coming Soon</p>
        <button disabled>coming-soon</button>
      </div>
    </div>

    <!-- Cart Section -->
    <div class="cart-section">
      <div class="cart" id="cart">
        <h3>Cart</h3>
        <div class="cart-items" id="cartItems"></div>

        <!-- Delivery Option -->
        <div>
          <label for="delivery">Choose Delivery Option</label>
          <select id="delivery" onchange="updateTotal()">
            <option value="0">Pick up Mtaani - KES 0</option>
            <option value="500">Express Delivery - KES 500</option>
            <option value="1000">Same Day Delivery - KES 1000</option>
          </select>
        </div>

        <div>
          <label for="phone">Phone Number</label>
          <input type="tel" id="phone" placeholder="Enter your phone number" required>
        </div>

        <button class="checkout" onclick="checkout()">Checkout</button>
      </div>
      <div class="message" id="message"></div>
    </div>

    <!-- M-Pesa Payment Form -->
    <!-- M-Pesa Payment Form -->
<div id="mpesa-payment">
  <h3>Complete Payment via M-Pesa</h3>
  <p><strong>M-Pesa Till Number: 3061648</strong></p> <!-- Updated Till number here -->
  <form id="mpesa-form">
    <label for="phoneNumber">Phone Number</label>
    <input type="tel" id="phoneNumber" placeholder="Enter your phone number" required>
    <button type="submit">Proceed with M-Pesa</button>
  </form>
</div>

    </div>
  </div>

  <script>
    let cart = [];
    let totalAmount = 0;
    let deliveryFee = 0;

    function addToCart(item, price) {
      const id = Date.now(); // Unique ID for each item
      cart.push({ id, item, price });
      totalAmount += price;
      displayCart();
    }

    function removeFromCart(id) {
      const itemIndex = cart.findIndex(product => product.id === id);
      if (itemIndex !== -1) {
        totalAmount -= cart[itemIndex].price;
        cart.splice(itemIndex, 1);
      }
      displayCart();
    }

    function displayCart() {
      const cartItems = document.getElementById("cartItems");
      cartItems.innerHTML = "";
      cart.forEach((product) => {
        const div = document.createElement("div");
        div.innerHTML = `
          ${product.item} - KES ${product.price}
          <button class="remove" onclick="removeFromCart(${product.id})">Remove</button>
        `;
        cartItems.appendChild(div);
      });

      const totalDiv = document.createElement("div");
      totalDiv.innerHTML = `<strong>Total: KES ${totalAmount + deliveryFee}</strong>`;
      cartItems.appendChild(totalDiv);
    }

    function updateTotal() {
      const deliveryOption = document.getElementById("delivery").value;
      deliveryFee = parseInt(deliveryOption);
      displayCart();
    }

    async function checkout() {
      const phone = document.getElementById("phone").value;

      if (!phone) {
        alert("Please enter your phone number.");
        return;
      }

      document.getElementById("message").innerText = "Processing payment...";

      document.getElementById("mpesa-payment").style.display = "block";

      // Simulate M-Pesa PIN input notification
      alert(`Please enter your M-Pesa PIN to complete your purchase. A notification has been sent to ${phone}.`);
    }
    const mpesaForm = document.getElementById("mpesa-form");
    mpesaForm.addEventListener("submit", (e) => {
      e.preventDefault();

      const phoneNumber = document.getElementById("phoneNumber").value;

      if (/^\d{10}$/.test(phoneNumber)) {
        document.getElementById("message").innerTe

   xt = "Payment successful!";
      } else {
        alert("Please enter a valid phone number.");
      }
    });
  </script>
</body>
</html>
